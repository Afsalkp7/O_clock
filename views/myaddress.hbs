<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>O|o' CLOCK</title>    
<link rel='stylesheet' href='/stylesheets/style.css' />
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="/css/style2.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

        {{!-- favicon --}}
    <link rel="icon" type="image/x-icon" href="https://res.cloudinary.com/dsqsfves6/image/upload/v1704874674/fav_mrsyym.jpg">

    <style>
        body {
            background: #f7f7ff;
            margin-top: 20px;
        }

        .card {
            position: relative;
            display: flex;
            flex-direction: column;
            min-width: 0;
            word-wrap: break-word;
            background-color: #fff;
            background-clip: border-box;
            border: 0 solid transparent;
            border-radius: .25rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 6px 0 rgb(218 218 253 / 65%), 0 2px 6px 0 rgb(206 206 238 / 54%);
        }

        .me-2 {
            margin-right: .5rem !important;
        }
    </style>
</head>

<body>
     <section class="navSec">
    <div class="container-fluid fixed-top nav_bar">
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          {{! <a class="navbar-brand" href="#"><img src="/images/logo.png" alt="logo" class="logo_img img-fluid"></a> }}
          <a class="navbar-brand text-dark" href="/" id="logo_img">O|o' CLOCK</a>

          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"
            aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0" id="navitems">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/shop">Shop</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/contact">Contact</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/about">About Us</a>
              </li>
              

            </ul>
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0" id="navicons">
              <li class="nav-item">
               <a class="nav-link" href="/user"><i class="fa-solid fa-user"></i><span
                                        style="color: black; font-family:sanserif; font-weight:800" class="ps-2">{{user.name}}</span></a>

              </li>
              
              <li class="nav-item">
                <a class="nav-link" href="/wish"><i class="fa-regular fa-heart"></i></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/cart"><i class="fa-solid fa-cart-shopping"></i></a>
              </li>

            </ul>
          </div>
        </div>
      </nav>

    </div>
  </section>

  {{! navbar end }}

    <section>
        <div class="container" id="profile_container" style="margin-top: 90px;">
            <div class="row">
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex flex-column align-items-center text-center">
                                <img src="/images/person1.png" alt="Admin" class="p-1" width="110">
                                <div class="mt-1">
                                    <h3>Hello</h3>
                                    
                                </div>
                            </div>
                            <hr class="my-4">
                            <div class="accordion accordion-flush" id="accordionFlushExample">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#flush-collapseOne"
                                            aria-expanded="false" aria-controls="flush-collapseOne">
                                            <span style="font-weight: 500;">ACCOUNT SETTINGS</span>
                                        </button>
                                    </h2>
                                    <div id="flush-collapseOne" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionFlushExample">
                                        <div class="accordion-body">
                                            <ul style="list-style: circle;">
                                                <li><a href="/profile">Profile Information</a></li>
                                                <li><a href="/myaddress">Manage Addressess</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo"
                                            aria-expanded="false" aria-controls="flush-collapseTwo">
                                            <span style="font-weight: 500;">MY STUFF</span>
                                        </button>
                                    </h2>
                                    <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionFlushExample">
                                        <div class="accordion-body">
                                            <ul style="list-style: circle;">
                                                <li><a href="/wish">My Wishlist</a></li>
                                                <li><a href="/cart">My Cart</a></li>

                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#flush-collapseThree"
                                            aria-expanded="false" aria-controls="flush-collapseThree">
                                            <span style="font-weight: 500;">MY ORDERS</span>
                                        </button>
                                    </h2>
                                    <div id="flush-collapseThree" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionFlushExample">
                                        <div class="accordion-body">
                                            <a href="/orderSummary">My Orders</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="my-3">
                            <div class="text-center">
                                <button type="button" class="btn btn-outline-dark"  onclick="deleteuser()"
                                        style="width:100%">Delete</button>

                            </div>
                            <hr class="my-3">
                            <div class="text-center">
                                <a href="/user_logout"><button type="button" class="btn btn-outline-dark"
                                        style="width:100%">LogOut</button></a>

                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-body">
                            <div class="row mb-1">
                                <div class="col-12 col-md-12 col-lg-12 p-3">
                                    <button class="btn btn-dark" type="button" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasWithBothOptions"
                                        aria-controls="offcanvasWithBothOptions" style="font-weight: bold;">+Add New
                                        Address</button>

                                    <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1"
                                        id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
                                        <div class="offcanvas-header">
                                            <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">ADD ADDRESS
                                            </h5>

                                            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"
                                                aria-label="Close"></button>
                                        </div>
                                        <hr>
                                        <div class="offcanvas-body">
                                            <p style="font-weight:600; font-size:25px">Contact Details</p>
                                            <form action="/myaddress" method="post" name="checkoutForm"
                                                onsubmit="return checkout()">
                                                <div class="row g-3">
                                                    <input type="text" class="form-control" value="" id="addressId"
                                                        name="addressId" hidden>
                                                    <input type="text" class="form-control" value="{{grandTotal}}"
                                                        name="grandTotal" id="grandTotal" hidden>

                                                    <div class="col-md-6">
                                                        <input type="text" class="form-control-sm" id="name" name="name"
                                                            placeholder="Name" value="">
                                                        <small id="nameAddress" class="text-danger"></small>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <input type="text" class="form-control" id="phone" name="phone"
                                                            placeholder="Phone Number" value="">
                                                        <small id="phoneAddress" class="text-danger"></small>

                                                    </div>
                                                    <div class="col-md-12">
                                                        <input type="email" class="form-control" id="email" name="email"
                                                            placeholder="Email">
                                                        <small id="emailAddress" class="text-danger"></small>

                                                    </div>
                                                    <div class="col-md-12">
                                                        <textarea class="form-control" id="address" name="address"
                                                            placeholder="Address"></textarea>
                                                        <small id="Address" class="text-danger"></small>
                                                    </div>
                                                    <div class="col-12">
                                                        <textarea class="form-control" id="area" name="area"
                                                            placeholder="Road Name/Area/Colony"></textarea>
                                                        <small class="text-danger" id="areaAddress"></small>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <input type="text" class="form-control" id="pincode"
                                                            name="pincode" placeholder="pincode">
                                                        <small id="pinAddress" class="text-danger"></small>

                                                    </div>
                                                    <div class="col-md-6">
                                                        <input type="text" class="form-control" id="city" name="city"
                                                            placeholder="city">
                                                        <small id="cityAddress" class="text-danger"></small>

                                                    </div>
                                                    <div class="col-md-6">
                                                        <select class="form-select" aria-label="Default select example"
                                                            name="state" id="state">
                                                            <option value="">Choose..</option>
                                                            <option>Kerala</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <input type="text" class="form-control" id="optionaladdress"
                                                            name="optionaladdress"
                                                            placeholder="Nearby Famous Place/Shop">
                                                        <small id="optAddress" class="text-danger"></small>

                                                    </div>
                                                    <div class="col-12 pt-3">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <button type="submit"
                                                                    class="btn btn-dark w-100 fw-bold">Save Address
                                                                    And Continue</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                {{#each addresses}}
                                <div class="card shadow-0 border mb-4">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-12">

                                                <h5 class="">{{this.name}}</h5>
                                                <p class="">{{this.address}} , {{this.area}} ,{{this.city}} </p>
                                                <p class="">{{this.state}} , {{this.pincode}} </p>
                                                <p class="">{{this.phone}} </p>

                                                <button class="btn text-black" type="button" data-bs-toggle="offcanvas"
                                                    data-bs-target="#offcanvasWithBothOptions"
                                                    aria-controls="offcanvasWithBothOptions" style="font-weight:bold ;"
                                                    onclick="editAddress('{{this._id}}','{{this.name}}', '{{this.phone}}','{{this.email}}','{{this.address}}','{{this.area}}','{{this.pincode}}','{{this.city}}','{{this.state}}','{{this.optionaladdress}}')">Edit
                                                </button>

                                                <button class="dltAddress btn text-danger btn-sm "
                                                    style="font-weight: bold;" data-address-id="{{this._id}}"
                                                    type="button">Delete</button>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                                {{/each}}

                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>


    </section>

    {{!-- modal delete address --}}
    <div class="modal fade" id="deleteAddress" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel"></h5>
                    <a href="/checkout" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></a>

                </div>
                <div class="modal-body" id="addressDelete">

                </div>
                <div class="modal-footer">
                    <a href="/checkout"><button type="button" class="btn btn-secondary">Close</button></a>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal edit form -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 style="text-align: center; font-family: cursive; font-weight: bold;">Edit Form</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editForm">
                        <div class="mb-4">
                            <input type="text" class="form-control" id="InputName1" placeholder="Enter Name" name="name"
                                value="{{user.name}}">
                        </div>
                        <div class="mb-4">
                            <input type="email" class="form-control" id="InputEmail1" placeholder="Enter Email"
                                name="email" value="{{user.email}}">
                        </div>
                        <div class="mb-4">
                            <input type="number" class="form-control" id="Inputphone1" placeholder="Enter Phone number"
                                name="phone" value="{{user.phone}}">
                        </div>
                        <button type="button" id="userButton" onclick="func()" class="btn btn-outline-dark"
                            data-bs-toggle="modal" data-bs-dismiss="modal">Save Changes</button>
                    </form>

                </div>
            </div>

        </div>
    </div>

    {{!-- modal changepassword --}}

    <div class="modal fade" id="passwordchange" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 style="text-align: center; font-family: cursive; font-weight: bold;">Change Password</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="changepassword">
                        <input type="text" class="form-control" name="_id" hidden value="{{user._id}}">
                        <div class="mb-4">
                            <input type="password" class="form-control" id="currentpassword"
                                placeholder="Enter current password" name="currentpassword">
                        </div>
                        <div class="mb-4">
                            <input type="password" class="form-control" id="newpassword"
                                placeholder="Enter New password" name="newpassword">
                        </div>
                        <div class="mb-4">
                            <input type="password" class="form-control" id="cnewpassword"
                                placeholder="Confirm New password" name="cnewpassword">
                        </div>
                        <button type="button" id="changeButton" onclick="change()" class="btn btn-outline-dark"
                            data-bs-toggle="modal" data-bs-dismiss="modal">Save Changes</button>
                    </form>

                </div>
            </div>

        </div>
    </div>


    {{!-- modal delete user --}}

            <div class="modal fade" id="deletemodal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" id="deletebody">

                        </div>
                        <div class="modal-footer">
                            <a href="/user"><button type="button"
                                    class="btn btn-secondary">Close</button></a>
                        </div>
                    </div>
                </div>
            </div>

    {{#if alert}}
    <script>
        alert("User not found")
    </script>
    {{/if}}

     {{!-- footer sec start --}}

  <section class="mt-5">
    <footer>
        <div class="footer-top">
            <div class="container">
                <div class="footer-day-time">
                    <div class="row">
                        
                        <div class="col-lg-12">
                            <div class="phone-no">
                                <a ><i class="fa fa-mobile"  aria-hidden="true"></i>Call +91 7510328839</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        
                        <h4>About us</h4>
                        <p>O|o'Clock is an American watch and
                                lifestyle company, creatively rooted in authentic vintage and classic design.We strive
                                to create high-quality watches.   </p>

                    </div>

                    <div class="col-md-4">
                        <h4>Information</h4>
                        <ul class="address1">
                            <li><i class="fa fa-map-marker"></i>Hilite Businesspark , Calicut</li>
                            <li><i class="fa fa-envelope"></i><a href="mailto:#">timeoclock23@gmail.com</a></li>
                            <li><i class="fa fa-mobile" aria-hidden="true"></i> <a>7510328839</a></li>
                        </ul>
                    </div>

                    <div class="col-md-4">
                        <h4>Follow us</h4>
                        <ul class="social-icon">
                            <li><a href="https://www.facebook.com/"><i class="fa-brands fa-facebook-f"></i></a></li>
                            <li><a href="https://www.instagram.com/__j__ee__v__a__/"><i class="fa-brands fa-instagram"></i></a></li>
                            <li><a href="https://www.google.com/"><i class="fa-brands fa-google"></i></a></li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <ul>
                            <li><a href="/">Home</a></li>
                            <li><a href="/about">About Us</a></li>
                            <li><a href="/shop">Shop</a></li>
                            <li><a href="/contact">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>
  </section>


    <script src="/js/userEdit.js"></script>
    <script src="/js/checkoutOrder.js"></script>
    <script src="/js/formValidation.js"></script>

</body>

</html>